var g=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var p=Object.prototype.hasOwnProperty;var f=(n,e)=>{for(var o in e)g(n,o,{get:e[o],enumerable:!0})},w=(n,e,o,c)=>{if(e&&typeof e=="object"||typeof e=="function")for(let t of A(e))!p.call(n,t)&&t!==o&&g(n,t,{get:()=>e[t],enumerable:!(c=h(e,t))||c.enumerable});return n};var C=n=>w(g({},"__esModule",{value:!0}),n);var R={};f(R,{createCors:()=>O});module.exports=C(R);var O=n=>{let{origins:e=["*"],maxAge:o,methods:c=["GET"],headers:t={}}=n,l,a={"content-type":"application/json","Access-Control-Allow-Methods":c.join(", "),...t};return o&&(a["Access-Control-Max-Age"]=o),{corsify:s=>{let{headers:i,status:r,body:d}=s;if(r===101)return s;let u=Object.fromEntries(i);return u["access-control-allow-origin"]||[301,302,308].includes(r)?s:new Response(d,{status:r,headers:{...u,...a,...l,"content-type":i.get("content-type")}})},preflight:s=>{let i=[...new Set(["OPTIONS",...c])],r=s.headers.get("origin");if(l=(e.includes(r)||e.includes("*"))&&{"Access-Control-Allow-Origin":r},s.method==="OPTIONS"){if(s.headers.get("Origin")!==null&&s.headers.get("Access-Control-Request-Method")!==null&&s.headers.get("Access-Control-Request-Headers")!==null){let d={...a,"Access-Control-Allow-Methods":i.join(", "),"Access-Control-Allow-Headers":s.headers.get("Access-Control-Request-Headers"),...l};return new Response(null,{headers:d})}return new Response(null,{headers:{Allow:i.join(", ")}})}}}};0&&(module.exports={createCors});
